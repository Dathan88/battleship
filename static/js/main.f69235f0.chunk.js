(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(35)},21:function(e,n,t){},23:function(e,n,t){},25:function(e,n,t){},27:function(e,n,t){},29:function(e,n,t){},31:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),i=t.n(o),c=(t(21),t(3)),s=t(4),u=t(7),l=t(5),m=t(6),d=t(9),h=t(37),p=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("h2",{className:"board-header",id:this.props.playersInfo.id+"-header"},this.props.playersInfo.name)}}]),n}(a.Component),f=function(e){return r.a.createElement("div",{className:e.squaresClass,id:e.id,onClick:e.onClick,onMouseDown:e.onMouseDown,value:e.value,key:e.position},e.value)},y=t(14),b=t.n(y),v=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this,n=function(n){var t=e.props.playersInfo.board,a=t.hits.includes(n),r=t.missed.includes(n),o="computer"===e.props.playersInfo.id&&t.shipSpots.includes(n),i=!1===a&&!1===r&&!1===o;return b()({"board-squares btn":i,"hit btn":a,"miss btn":r,"playerShips btn":o,"disabled btn":a||r})};return r.a.createElement("div",{className:"boards",id:this.props.playersInfo.id+"-board"},this.props.playersInfo.squares.map(function(t,a){return r.a.createElement(f,{onClick:e.props.onClick,onMouseDown:e.handleMouseDown,value:t,position:a+1,id:e.props.playersInfo.id+"-"+t,key:a+1,squaresClass:n(t)})}))}}]),n}(a.Component),g=t(10),k=function(e,n,t){var a=n,r=Object(g.a)(Array(n).fill(1).map(function(e,n){return 1+n})),o=function(){return 0===Math.max.apply(null,r)};return{name:e,length:n,coordinates:t,health:a,isSunk:o,hit:function(e){return r[e]=0,o()}}},w=function(){var e=Object(g.a)(Array(10).fill(1).map(function(e,n){return 1+n})),n=Object(g.a)(Array(10).fill(1).map(function(e,n){return String.fromCharCode(97+n).toUpperCase()})),t=[],a=[],r=[],o=[],i=[],c=[],s=[],u={1:{name:"Aircraft Carrier",length:5},2:{name:"Battleship",length:4},3:{name:"Submarine",length:3},4:{name:"Cruiser",length:3},5:{name:"Destroyer",length:2}},l=(function(){for(var t=0;t<10;t++)for(var a=0;a<10;a++)i.push(n[t]+e[a])}(),function(){for(var e=Object.entries(u).length,n=0;n<e;n++){var a=Object.entries(u)[n][1],r=k(a.name,a.length,a.coordinates);t.push(r)}}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.length;return Math.floor(Math.random()*e)}),m=function(e){return c.find(function(n){return n===e})};!function(){for(var a=0;a<t.length;a++){var r=t[a].coordinates=[],o=l(10);if(o<5){o=l(10);for(var i=0;i<t[a].length;i++){var s=n[o];r[i]=s+e[o+i],r[i]!==s+"undefined"&&m(r[i])!==r[i]||(r=t[a].coordinates=[],i=-1,o=l(10))}r.forEach(function(e){c.push(e)})}else{o=l(10);for(var u=0;u<t[a].length;u++){var d=[e[o]];r[u]=n[o+u]+d,r[u]!=="undefined"+d.toString()&&m(r[u])!==r[u]||(r=t[a].coordinates=[],u=-1,o=l(10))}r.forEach(function(e){c.push(e)})}}}();return{fleet:t,incoming:function(e,n){o.push(e);for(var i=0;i<t.length;i++){var c=t[i].coordinates,u=t[i].name,l=c.findIndex(function(n){return n===e});if(-1!==l){var m=t[i].hit(l,n);return r.push(e),c[l]=0,m?(s.push(u),m):m}if(-1===l&&4===i)return a.push(e),null}},randomShots:function e(){var n=i[Math.floor(Math.random()*i.length)];return 0===n||void 0!==o.find(function(e){return e===n})?e():n},squares:i,shotsFired:o,kills:s,hits:r,missed:a,shipSpots:c,randomNum:l}},E=0,j=function(e){var n=w(),t=function(e){var t=n.squares.findIndex(function(n){return n===e});return[1,-1,10,-10].map(function(e){return e+t}).map(function(e){return n.squares[e]}).filter(function(e){return void 0!==e}).filter(function(e){return!0!==n.missed.includes(e)}).filter(function(e){return!0!==n.hits.includes(e)})},a=function(e){return n.shipSpots.includes(e)},r=0;return{name:e,attack:function(e,t){return E++,n.incoming(e,t)},comp_attack:function(){var e=n.randomShots(),o=a(e),i=[].concat.apply([],n.hits.map(t));switch(r){case 0:return!0===o&&(r=1),document.getElementById("computer-"+e);case 1:var c=i[0];return 0===i.length?(r=0,document.getElementById("computer-"+e)):document.getElementById("computer-"+c);default:console.log("default")}},getName:function(){return e},board:n,check_wounded_ship:a}},C=function(){return E%2===0?O:_},O=j("Player 1"),_=j("Sir Francis Drake"),N=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e={human:{name:O.name,id:"human",board:O.board,squares:O.board.squares},computer:{name:_.name,id:"computer",board:_.board,squares:_.board.squares}};return r.a.createElement("div",{className:"play-area"},r.a.createElement("div",{className:"board-wrappers",id:e.human.id+"-board-wrapper"},r.a.createElement(p,{playersInfo:e.human}),r.a.createElement(v,{playersInfo:e.human,onClick:this.props.onClick})),r.a.createElement("div",{className:"board-wrappers",id:e.computer.id+"-board-wrapper"},r.a.createElement(p,{playersInfo:e.computer}),r.a.createElement(v,{playersInfo:e.computer,onClick:this.props.onClick})))}}]),n}(a.Component),S=(t(23),t(25),t(27),t(29),t(31),function(e){function n(e){var t;return Object(c.a)(this,n),(t=Object(u.a)(this,Object(l.a)(n).call(this,e))).enemy=function(){return C()===O?_:O},t.commentary_array=[],t.checkWin=function(){if(5===t.state.userNum||5===t.state.compNum){t.commentary_array=[];var e=t.enemy().name+" Wins the Game!!!";t.commentary_array.push(e);var n=t.commentary_array.map(function(e,n){return r.a.createElement(r.a.Fragment,{key:n},e,r.a.createElement("br",null))});t.setState({commentary:n,disableApp:"disabled",game_over:!0})}},t.computer_attack=function(){_.comp_attack().click()},t.handleClick=t.handleClick.bind(Object(d.a)(Object(d.a)(t))),t.state={userNum:0,compNum:0,commentary:"",disableApp:"",game_over:!1,squaresClass:"board-squares"},t}return Object(m.a)(n,e),Object(s.a)(n,[{key:"update_kills",value:function(){this.setState({userNum:O.board.kills.length,compNum:_.board.kills.length})}},{key:"update_commentary",value:function(e){var n=this.enemy().name,t=C().name,a=this.enemy().board.kills,o=a[a.length-1],i=this.enemy().name+" missed",c=n+" damaged "+t+"'s ship",s=n+" sunk "+t+"'s "+o;switch(e){case null:this.commentary_array.push(i);break;case!1:this.commentary_array.push(c);break;case!0:this.commentary_array.push(s),this.update_kills(),this.checkWin();break;default:console.log("update_commentary switch error")}6===this.commentary_array.length&&this.commentary_array.shift();var u=this.commentary_array.map(function(e,n){return r.a.createElement(r.a.Fragment,{key:n},e,r.a.createElement("br",null))});this.setState({commentary:u}),this.checkWin()}},{key:"handleClick",value:function(e){var n=this,t=C().attack(e.target.innerHTML,this.enemy());this.update_commentary(t),setTimeout(function(){n.checkWin(),C()===_&&!1===n.state.game_over&&n.computer_attack()},100)}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App "+this.state.disableApp},r.a.createElement("header",{className:"App-header"},"Battleship"),r.a.createElement("section",{className:"scoreboard"},O.name+"'s Score: "+this.state.userNum),r.a.createElement("section",{className:"scoreboard"},_.name+"'s Score: "+this.state.compNum),r.a.createElement("section",{id:"commentary-display"},this.state.commentary),r.a.createElement(N,{onClick:this.handleClick})))}}]),n}(a.Component)),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/battleship",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/battleship","/service-worker.js");I?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):A(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):A(n,e)})}}()}},[[15,2,1]]]);
//# sourceMappingURL=main.f69235f0.chunk.js.map